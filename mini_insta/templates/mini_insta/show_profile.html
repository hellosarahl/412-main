{# show_profile.html #}
{# displays the profile and the associated post #}
{% extends 'mini_insta/base.html' %}
{% block content %}

{# displays the profile name and username #}
<h1>{{profile.display_name}} (@{{profile.username}})</h1>
<img src="{{ profile.profile_image_url}}" alt= "{{profile.username}}">

<div>
    {# displays the profile detail #}
<p>{{profile.username}}</p>
<p>{{profile.display_name}}</p>
<p>{{profile.join_date}}</p>
<p>{{profile.bio_text}}</p>

{# link for creating new post for profile #}
<p>
    <a href="{% url 'mini_insta:create_post' profile.pk %}" class="btn btn-primary">
        Create
        </a>
</p>



</div>
{# heading for the profile post #}
<h2>Post</h2>
<div class="post-grid">
    {# loops through post that belong to the profile #}
{% for post in profile.get_all_posts %}
<div class="post-item">
<a href="{% url 'mini_insta:post_detail' post.pk %}">
    {% if post.get_all_photos %}
    <img src="{{post.get_all_photos.0.image_url}}" alt="Post Image">
{% else %}
{# the image is nothing exist #}
<img src="https://cattime.com/wp-content/uploads/sites/14/2011/12/GettyImages-1319206416-e1697653931697.jpg"
alt="No Image">

{% endif %}
</a>
{# displays caption or none if empty #}
<p>{{post.caption|default:"No caption"}}</p>
</div>
{% empty %}
{# for display if the profile does not have post #}
<p>No post</p>
{% endfor %}
</div>
{# link for return to random profile #}
<p><a href="{% url 'mini_insta:random' %}">Back to all profiles</a>
</p>

{% endblock %}