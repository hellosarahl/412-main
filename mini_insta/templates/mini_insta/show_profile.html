{% extends 'mini_insta/base.html' %}
{% block content %}

<h1>{{profile.display_name}} (@{{profile.username}})</h1>
<img src="{{ profile.profile_image_url}}" alt= "{{profile.username}}">

<div>
<p>{{profile.username}}</p>
<p>{{profile.display_name}}</p>
<p>{{profile.join_date}}</p>
<p>{{profile.bio_text}}</p>

<p>
    <a href="{% url 'mini_insta:create_post' profile.pk %}" class="btn btn-primary">
        Create
        </a>
</p>



</div>

<h2>Post</h2>
<div class="post-grid">
{% for post in profile.get_all_posts %}
<div class="post-item">
<a href="{% url 'mini_insta:post_detail' post.pk %}">
    {% if post.get_all_photos %}
    <img src="{{post.get_all_photos.0.image_url}}" alt="Post Image">
{% else %}
<img src="https://cattime.com/wp-content/uploads/sites/14/2011/12/GettyImages-1319206416-e1697653931697.jpg"
alt="No Image">

{% endif %}
</a>
<p>{{post.caption|default:"No caption"}}</p>
</div>
{% empty %}

<p>No post</p>
{% endfor %}
</div>
<p><a href="{% url 'mini_insta:random' %}">Back to all profiles</a>
</p>

{% endblock %}